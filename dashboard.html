<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"
    />
    <title>TNB Dashboard</title>
    <link rel="stylesheet" href="dashboard.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!--
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
      INLINE STYLES ‚Äî Google Profile UI/UX
      (kept inline to preserve original intent)

      1. Shimmer/pulse on avatar while image loads
      2. Blue verified checkmark next to name
      3. Hover tooltip on avatar showing "Log Out"
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    -->
    <style>
      /* ‚îÄ‚îÄ 1. Avatar shimmer / pulse while loading ‚îÄ‚îÄ */
      @keyframes avatarShimmer {
        0%   { background-position: -200% 0; }
        100% { background-position:  200% 0; }
      }
      @keyframes avatarPulse {
        0%, 100% { box-shadow: 0 0 0 0   rgba(66,133,244,0.5); }
        50%       { box-shadow: 0 0 0 6px rgba(66,133,244,0);   }
      }
      .avatar-ring.is-loading {
        background: linear-gradient(
          100deg,
          rgba(255,255,255,0.06) 25%,
          rgba(255,255,255,0.18) 50%,
          rgba(255,255,255,0.06) 75%
        ) !important;
        background-size: 200% 100% !important;
        animation: avatarShimmer 1.2s infinite linear,
                   avatarPulse   1.5s infinite ease-in-out !important;
      }

      /* ‚îÄ‚îÄ 2. Verified checkmark badge ‚îÄ‚îÄ */
      .verified-badge {
        display: inline-flex;
        align-items: center; justify-content: center;
        width: 14px; height: 14px;
        border-radius: 50%; background: #4285F4;
        margin-left: 4px; vertical-align: middle; flex-shrink: 0;
        box-shadow: 0 1px 4px rgba(66,133,244,0.5);
        animation: badgePop 0.35s cubic-bezier(0.175,0.885,0.32,1.275) both;
      }
      @keyframes badgePop {
        from { transform: scale(0); opacity: 0; }
        to   { transform: scale(1); opacity: 1; }
      }

      /* ‚îÄ‚îÄ 3. Avatar hover ‚Üí logout tooltip ‚îÄ‚îÄ */
      .avatar-pill-wrap {
        position: relative; display: inline-flex; align-items: center;
      }
      .avatar-logout-tip {
        position: absolute; top: calc(100% + 8px); left: 0; z-index: 9999;
        background: rgba(10,16,32,0.97);
        border: 1px solid rgba(255,255,255,0.11);
        border-radius: 12px; padding: 0; min-width: 170px;
        opacity: 0; pointer-events: none; transform: translateY(-6px);
        transition: opacity 0.18s ease, transform 0.18s ease;
        overflow: hidden; box-shadow: 0 12px 36px rgba(0,0,0,0.55);
      }
      .avatar-pill-wrap:hover .avatar-logout-tip,
      .avatar-pill-wrap:focus-within .avatar-logout-tip {
        opacity: 1; pointer-events: auto; transform: translateY(0);
      }
      .avatar-tip-profile {
        display: flex; align-items: center; gap: 9px;
        padding: 12px 14px 9px;
        border-bottom: 1px solid rgba(255,255,255,0.07);
      }
      .avatar-tip-img {
        width: 32px; height: 32px; border-radius: 50%; object-fit: cover;
        flex-shrink: 0; border: 1.5px solid rgba(255,255,255,0.15);
      }
      .avatar-tip-letter {
        width: 32px; height: 32px; border-radius: 50%;
        background: linear-gradient(135deg, #f59e0b, #b45309);
        display: flex; align-items: center; justify-content: center;
        font-weight: 800; font-size: 13px; color: #1c0d00; flex-shrink: 0;
      }
      .avatar-tip-name {
        font-size: 13px; font-weight: 600; line-height: 1.2;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 106px;
      }
      .avatar-tip-email {
        font-size: 10.5px; opacity: 0.50; white-space: nowrap;
        overflow: hidden; text-overflow: ellipsis; max-width: 106px; margin-top: 1px;
      }
      .avatar-tip-logout {
        display: flex; align-items: center; gap: 8px; width: 100%;
        padding: 10px 14px; background: transparent; border: none; color: #f87171;
        font-size: 13px; font-weight: 500; cursor: pointer; text-align: left;
        transition: background 0.15s; font-family: 'Plus Jakarta Sans', sans-serif;
      }
      .avatar-tip-logout:hover { background: rgba(248,113,113,0.10); }
      .avatar-tip-settings {
        display: flex; align-items: center; gap: 8px; width: 100%;
        padding: 10px 14px; background: transparent; border: none;
        border-bottom: 1px solid rgba(255,255,255,0.07);
        color: inherit; font-size: 13px; cursor: pointer; text-align: left;
        opacity: 0.75; transition: background 0.15s, opacity 0.15s;
        font-family: 'Plus Jakarta Sans', sans-serif;
      }
      .avatar-tip-settings:hover { background: rgba(255,255,255,0.05); opacity: 1; }

      /* ‚îÄ‚îÄ Gmail address under greeting ‚îÄ‚îÄ */
      .greet-email {
        font-size: 12px; opacity: 0.45; margin-top: 3px; letter-spacing: 0.01em;
        white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 220px;
        animation: fadeSlideIn 0.4s ease both;
        font-family: 'DM Mono', monospace;
      }
      @keyframes fadeSlideIn {
        from { opacity: 0; transform: translateY(4px); }
        to   { opacity: 0.45; transform: translateY(0); }
      }

      .avatar-name-row {
        display: flex; align-items: center; gap: 3px;
      }
      .avatar-ring .avatar-img {
        width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
      }
    </style>
  </head>
  <body>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         TOP NAVBAR
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <header class="cmd-bar" id="cmdBar">

      <!-- ROW 1 ‚Äî Avatar ¬∑ Search ¬∑ Actions -->
      <div class="cmd-row cmd-row1">

        <div class="avatar-pill-wrap">
          <button class="avatar-pill" id="avatarBtn" aria-label="Profile">
            <span class="avatar-ring" id="avatarRing">
              <img class="avatar-img" id="avatarImg" src="" alt="" style="display:none;" />
              <span class="avatar-letter" id="avatarLetter">A</span>
            </span>
            <div class="avatar-info">
              <span class="avatar-name-row">
                <span class="avatar-name" id="avatarName">Alex</span>
              </span>
              <span class="avatar-provider" id="avatarProvider" style="display:none;"></span>
            </div>
          </button>

          <!-- Hover logout tooltip -->
          <div class="avatar-logout-tip" id="avatarLogoutTip" role="menu">
            <div class="avatar-tip-profile">
              <span id="tipAvatarPlaceholder" class="avatar-tip-letter">A</span>
              <div style="overflow:hidden;">
                <div class="avatar-tip-name" id="tipName">Alex</div>
                <div class="avatar-tip-email" id="tipEmail" style="display:none;"></div>
              </div>
            </div>
            <button class="avatar-tip-settings" id="tipSettingsBtn">
              <!-- Settings icon ‚Äî stroke 1.6 -->
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/>
              </svg>
              Settings
            </button>
            <button class="avatar-tip-logout" id="tipLogoutBtn">
              <!-- Log-out icon ‚Äî stroke 1.6 -->
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
              </svg>
              Log Out
            </button>
          </div>
        </div><!-- /avatar-pill-wrap -->

        <!-- Search -->
        <div class="search-shell">
          <!-- Search icon ‚Äî stroke 1.6 -->
          <svg class="search-ico" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
          </svg>
          <input
            class="search-input" id="searchInput"
            type="search" placeholder="Search transactions‚Ä¶" autocomplete="off"
          />
          <button class="search-clear" id="searchClear" aria-label="Clear search">
            <!-- X icon ‚Äî stroke 1.6 -->
            <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>

        <div class="nav-actions">

          <!-- Bell -->
          <div class="bell-shell" id="bellShell">
            <button class="bell-btn" id="bellBtn" aria-label="Notifications" aria-expanded="false">
              <!-- Bell icon ‚Äî stroke 1.6 -->
              <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                <path d="M13.73 21a2 2 0 01-3.46 0"/>
              </svg>
              <span class="bell-dot" id="bellDot" style="display:none;"></span>
            </button>

            <div class="notif-panel" id="notifPanel">
              <div class="np-head">
                <span class="np-title" data-i18n="notifications">Notifications</span>
                <button class="np-markread" id="npMarkRead">Mark all read</button>
                <button class="np-clear" id="npClear" data-i18n="clear_all">Clear All</button>
              </div>
              <div class="np-body" id="npBody">
                <p class="np-empty" id="npEmpty" data-i18n="no_notifs">No notifications yet</p>
              </div>
            </div>
          </div>

          <!-- 3-dots menu -->
          <div class="dots-shell" id="dotsShell">
            <button class="dots-btn" id="dotsBtn" aria-label="Menu" aria-expanded="false">
              <span></span><span></span><span></span>
            </button>
            <div class="dots-menu" id="dotsMenu" role="menu">
              <label class="dmenu-row dmenu-toggle" role="menuitem">
                <span class="dmenu-icon">
                  <!-- Moon icon ‚Äî stroke 1.6 -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z"/>
                  </svg>
                </span>
                <span class="dmenu-label" data-i18n="dark_mode">Dark Mode</span>
                <span class="dm-switch">
                  <input type="checkbox" id="themeCheck" checked/>
                  <span class="dm-track"></span>
                </span>
              </label>
              <div class="dmenu-divider"></div>
              <button class="dmenu-row" id="menuAddIncome" role="menuitem">
                <span class="dmenu-icon income-ico">
                  <!-- Plus-circle ‚Äî stroke 1.6 -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/>
                  </svg>
                </span>
                <span class="dmenu-label" data-i18n="add_income">Add Income</span>
              </button>
              <button class="dmenu-row" id="menuAddExpense" role="menuitem">
                <span class="dmenu-icon expense-ico">
                  <!-- Minus-circle ‚Äî stroke 1.6 -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="8" y1="12" x2="16" y2="12"/>
                  </svg>
                </span>
                <span class="dmenu-label" data-i18n="add_expense">Add Expense</span>
              </button>
              <div class="dmenu-divider"></div>
              <button class="dmenu-row" id="menuHistory" role="menuitem">
                <span class="dmenu-icon">
                  <!-- List icon ‚Äî stroke 1.6 -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/>
                    <line x1="8" y1="18" x2="21" y2="18"/>
                    <line x1="3" y1="6"  x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/>
                    <line x1="3" y1="18" x2="3.01" y2="18"/>
                  </svg>
                </span>
                <span class="dmenu-label" data-i18n="nav_transactions">History</span>
              </button>
              <button class="dmenu-row" id="menuLang" role="menuitem">
                <span class="dmenu-icon">
                  <!-- Globe icon ‚Äî stroke 1.6 -->
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="2" y1="12" x2="22" y2="12"/>
                    <path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
                  </svg>
                </span>
                <span class="dmenu-label" id="menuLangLabel">Switch to ·Äô·Äº·Äî·Ä∫·Äô·Ä¨</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ROW 2 ‚Äî Financial Summary Strip -->
      <div class="cmd-row cmd-row2">
        <div class="summary-strip">
          <div class="ss-item ss-balance">
            <span class="ss-label" data-i18n="available_balance">Balance</span>
            <span class="ss-val balance-col" id="r2Balance">$0.00</span>
          </div>
          <div class="ss-sep"></div>
          <div class="ss-item">
            <span class="ss-label" data-i18n="income">Income</span>
            <span class="ss-val income-col" id="r2Income">$0.00</span>
          </div>
          <div class="ss-sep"></div>
          <div class="ss-item">
            <span class="ss-label" data-i18n="expense">Expense</span>
            <span class="ss-val expense-col" id="r2Expense">$0.00</span>
          </div>
        </div>
      </div>
    </header>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         MAIN CONTENT
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <main class="app-main" id="appMain">

      <!-- SEARCH RESULTS PAGE -->
      <section class="page hidden" id="page-search">
        <div class="page-head">
          <h2 class="page-title" id="searchResultLabel">Results</h2>
        </div>
        <div class="txn-feed" id="searchFeed"></div>
      </section>

      <!-- ‚ïê‚ïê HOME PAGE ‚ïê‚ïê -->
      <section class="page active" id="page-dashboard">
        <div class="greet-row">
          <div>
            <p class="greet-sub" id="greetText">Good morning,</p>
            <div style="display:flex; align-items:center; gap:6px; flex-wrap:wrap;">
              <h1 class="greet-name" id="greetName">Alex üëã</h1>
            </div>
            <p class="greet-email" id="greetEmail" style="display:none;"></p>
          </div>
          <span class="date-chip" id="dateChip"></span>
        </div>

        <!-- Quick Actions -->
        <div class="section-row">
          <h2 class="section-label" data-i18n="quick_actions">Quick Actions</h2>
          <span class="qa-subtitle-hint" data-i18n="tap_to_add">Tap to add transaction</span>
        </div>
        <div class="qcat-grid" id="qcatGrid">
          <!-- Injected by renderQuickActions() in dashboard.js -->
        </div>

        <!-- Recent Activity -->
        <div class="section-row" style="margin-top:4px;">
          <h2 class="section-label" data-i18n="recent_activity">Recent Activity</h2>
        </div>
        <div class="usage-summary" id="usageSummary">
          <p class="np-empty" style="text-align:center;padding:32px 14px;font-size:0.8rem;">
            No activity yet ‚Äî add a transaction to get started.
          </p>
        </div>
      </section>

      <!-- ‚ïê‚ïê HISTORY PAGE ‚ïê‚ïê -->
      <section class="page hidden" id="page-transactions">
        <div class="page-head">
          <h2 class="page-title" data-i18n="all_transactions">All Transactions</h2>
        </div>
        <div class="adv-filter-panel" id="advFilterPanel">
          <div class="afp-row">
            <span class="afp-label" data-i18n="filter_type">Type</span>
            <div class="filter-tabs" id="txnTabs">
              <button class="ftab active" data-filter="all"     data-i18n="all">All</button>
              <button class="ftab"        data-filter="income"  data-i18n="income">Income</button>
              <button class="ftab"        data-filter="expense" data-i18n="expense">Expense</button>
            </div>
          </div>
          <div class="afp-row afp-dates">
            <div class="afp-date-group">
              <label class="afp-label" data-i18n="start_date">From</label>
              <input type="date" class="date-pick" id="txnDateFrom"/>
            </div>
            <div class="afp-date-group">
              <label class="afp-label" data-i18n="end_date">To</label>
              <input type="date" class="date-pick" id="txnDateTo"/>
            </div>
          </div>
          <div class="afp-error" id="afpError" style="display:none;"></div>
          <div class="afp-actions">
            <button class="afp-apply" id="afpApply" data-i18n="apply_filter">Apply Filter</button>
            <button class="afp-reset" id="afpReset" data-i18n="reset_filter">Reset</button>
            <button class="csv-btn" id="csvBtnTxn">
              <!-- Download icon ‚Äî stroke 1.6 -->
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
              <span data-i18n="export_csv">Export CSV</span>
            </button>
          </div>
          <div class="afp-active-badge" id="afpActiveBadge" style="display:none;">
            <span id="afpActiveText"></span>
            <button class="afp-badge-clear" id="afpBadgeClear">‚úï</button>
          </div>
        </div>
        <div class="txn-feed" id="txnFeed"></div>
      </section>

      <!-- ‚ïê‚ïê REPORTS PAGE ‚ïê‚ïê -->
      <section class="page hidden" id="page-reports">
        <div class="page-head">
          <h2 class="page-title" data-i18n="reports">Reports</h2>
        </div>

        <div class="rep-cards">
          <!-- Income card -->
          <div class="rep-card income-rc">
            <div class="rep-icon income-ico-wrap">
              <!-- Trend-up icon ‚Äî stroke 1.6 -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                <polyline points="17 6 23 6 23 12"/>
              </svg>
            </div>
            <div>
              <span class="rep-lbl" data-i18n="total_income">Total Income</span>
              <span class="rep-val income-col" id="repIncome">$0.00</span>
            </div>
          </div>

          <!-- Expense card -->
          <div class="rep-card expense-rc">
            <div class="rep-icon expense-ico-wrap">
              <!-- Trend-down icon ‚Äî stroke 1.6 -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/>
                <polyline points="17 18 23 18 23 12"/>
              </svg>
            </div>
            <div>
              <span class="rep-lbl" data-i18n="total_expense">Total Expense</span>
              <span class="rep-val expense-col" id="repExpense">$0.00</span>
            </div>
          </div>

          <!-- Balance card -->
          <div class="rep-card">
            <div class="rep-icon balance-ico-wrap">
              <!-- Dollar-sign icon ‚Äî stroke 1.6 -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
              </svg>
            </div>
            <div>
              <span class="rep-lbl" data-i18n="net_balance">Net Balance</span>
              <span class="rep-val" id="repBalance">$0.00</span>
            </div>
          </div>

          <!-- Count card -->
          <div class="rep-card">
            <div class="rep-icon count-ico-wrap">
              <!-- List icon ‚Äî stroke 1.6 -->
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                <line x1="8"  y1="6"  x2="21" y2="6"/>
                <line x1="8"  y1="12" x2="21" y2="12"/>
                <line x1="8"  y1="18" x2="21" y2="18"/>
                <line x1="3"  y1="6"  x2="3.01" y2="6"/>
                <line x1="3"  y1="12" x2="3.01" y2="12"/>
                <line x1="3"  y1="18" x2="3.01" y2="18"/>
              </svg>
            </div>
            <div>
              <span class="rep-lbl" data-i18n="total_transactions">Transactions</span>
              <span class="rep-val" id="repCount">0</span>
            </div>
          </div>
        </div>

        <!-- Spending chart -->
        <div class="chart-card">
          <div class="cc-head">
            <h3 class="section-label" data-i18n="spending_overview">Spending Overview</h3>
            <select class="period-sel" id="chartPeriod">
              <option value="7"  data-i18n="last_7">Last 7 Days</option>
              <option value="30" data-i18n="last_30">Last 30 Days</option>
            </select>
          </div>
          <div class="chart-wrap"><canvas id="spendingCanvas"></canvas></div>
        </div>

        <!-- Category breakdown -->
        <h3 class="section-label" style="margin:20px 0 10px" data-i18n="category_breakdown">Category Breakdown</h3>
        <div class="cat-breakdown" id="catBreakdown"></div>
      </section>

      <!-- ‚ïê‚ïê SETTINGS PAGE ‚ïê‚ïê -->
      <section class="page hidden" id="page-settings">
        <div class="page-head">
          <h2 class="page-title" data-i18n="settings">Settings</h2>
        </div>

        <div class="profile-card" id="profileCard">
          <div class="pc-avatar" id="pcAvatar">A</div>
          <div class="pc-info">
            <input class="pc-name-input" id="profileNameInput" value="Alex Morgan" placeholder="Your name"/>
            <span class="pc-badge" data-i18n="premium_member">Premium Member</span>
            <div class="pc-social-info" id="pcSocialInfo" style="display:none;">
              <span class="pc-social-badge" id="pcSocialBadge">Social Account</span>
              <span class="pc-social-provider" id="pcSocialProvider"></span>
              <span class="pc-email" id="pcEmail"></span>
            </div>
          </div>
        </div>

        <div class="settings-group">
          <div class="sg-row">
            <div class="sg-info">
              <span class="sg-title" data-i18n="dark_mode">Dark Mode</span>
              <span class="sg-sub"   data-i18n="dark_mode_sub">Switch between dark and light</span>
            </div>
            <label class="tog-switch">
              <input type="checkbox" id="themeToggle" checked/>
              <span class="tog-track"></span>
            </label>
          </div>
          <div class="sg-row">
            <div class="sg-info">
              <span class="sg-title" data-i18n="language">Language</span>
              <span class="sg-sub"   data-i18n="language_sub">English / Burmese</span>
            </div>
            <button class="lang-btn" id="langBtn">
              <span id="langBtnLbl">English</span> ‚Ä∫
            </button>
          </div>
          <div class="sg-row">
            <div class="sg-info">
              <span class="sg-title" data-i18n="notifications_setting">Notifications</span>
              <span class="sg-sub"   data-i18n="notifications_sub">Balance change alerts</span>
            </div>
            <label class="tog-switch">
              <input type="checkbox" id="notifToggle" checked/>
              <span class="tog-track"></span>
            </label>
          </div>
          <div class="sg-row" id="passwordRow">
            <div class="sg-info">
              <span class="sg-title" data-i18n="change_password">Change Password</span>
              <span class="sg-sub"   data-i18n="change_password_sub">Update your account password</span>
            </div>
            <button class="lang-btn" id="changePasswordBtn" data-i18n="change">Change</button>
          </div>
          <div class="sg-row">
            <div class="sg-info">
              <span class="sg-title" data-i18n="clear_data">Clear All Data</span>
              <span class="sg-sub"   data-i18n="clear_data_sub">Remove all transactions</span>
            </div>
            <button class="danger-btn" id="clearBtn" data-i18n="clear">Clear</button>
          </div>
        </div>

        <button class="logout-btn" id="logoutBtn">
          <!-- Log-out icon ‚Äî stroke 1.6 -->
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
            <polyline points="16 17 21 12 16 7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
          </svg>
          <span data-i18n="logout">Logout</span>
        </button>
      </section>

    </main>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         BOTTOM NAV ‚Äî FLOATING GLASS PILL
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <nav class="bot-nav" id="botNav">

      <!-- Home -->
      <button class="bn-btn active" data-page="dashboard" id="bn-dashboard">
        <!-- Grid/Home icon ‚Äî stroke 1.6 -->
        <svg class="bn-ico" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1.5"/>
          <rect x="14" y="3" width="7" height="7" rx="1.5"/>
          <rect x="3" y="14" width="7" height="7" rx="1.5"/>
          <rect x="14" y="14" width="7" height="7" rx="1.5"/>
        </svg>
        <span class="bn-lbl" data-i18n="nav_dashboard">Home</span>
      </button>

      <!-- History -->
      <button class="bn-btn" data-page="transactions" id="bn-transactions">
        <!-- Receipt/list icon ‚Äî stroke 1.6 -->
        <svg class="bn-ico" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/>
        </svg>
        <span class="bn-lbl" data-i18n="nav_transactions">History</span>
      </button>

      <!-- FAB (centre) -->
      <div class="fab-zone">
        <button class="fab-main" id="fabMain" aria-label="Add transaction">
          <!-- Plus icon ‚Äî stroke 2 (intentionally bolder for FAB) -->
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5"  y1="12" x2="19" y2="12"/>
          </svg>
        </button>
        <div class="fab-sub" id="fabSub">
          <button class="fab-sub-btn fab-income" id="fabIncome">
            <!-- Chevron-up ‚Äî stroke 2 -->
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="18 15 12 9 6 15"/>
            </svg>
            <span data-i18n="add_income">Income</span>
          </button>
          <button class="fab-sub-btn fab-expense" id="fabExpense">
            <!-- Chevron-down ‚Äî stroke 2 -->
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
            <span data-i18n="add_expense">Expense</span>
          </button>
        </div>
        <div class="fab-backdrop" id="fabBackdrop"></div>
      </div>

      <!-- Reports -->
      <button class="bn-btn" data-page="reports" id="bn-reports">
        <!-- Bar-chart icon ‚Äî stroke 1.6 -->
        <svg class="bn-ico" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="20" x2="18" y2="10"/>
          <line x1="12" y1="20" x2="12" y2="4"/>
          <line x1="6"  y1="20" x2="6"  y2="14"/>
        </svg>
        <span class="bn-lbl" data-i18n="reports">Reports</span>
      </button>

      <!-- Settings -->
      <button class="bn-btn" data-page="settings" id="bn-settings">
        <!-- Settings icon ‚Äî stroke 1.6 -->
        <svg class="bn-ico" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/>
        </svg>
        <span class="bn-lbl" data-i18n="nav_settings">Settings</span>
      </button>

    </nav>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
         MODALS
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

    <!-- Add Transaction modal -->
    <div class="modal-veil" id="txnVeil">
      <div class="modal-card" id="txnCard">
        <div class="mc-head">
          <h2 class="mc-title" id="mcTitle">Add Income</h2>
          <button class="mc-close" id="mcClose" aria-label="Close">
            <!-- X ‚Äî stroke 1.6 -->
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round">
              <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>
        <div class="mc-body">
          <input type="hidden" id="txnType" value="income"/>
          <div class="field">
            <label class="field-lbl" data-i18n="amount">Amount ($)</label>
            <div class="amount-wrap">
              <span class="amt-prefix">$</span>
              <input
                type="number" class="field-input amt-input" id="txnAmount"
                placeholder="0.00" min="0.01" step="0.01" inputmode="decimal"
              />
            </div>
          </div>
          <div class="field">
            <label class="field-lbl" data-i18n="category">Category</label>
            <select class="field-input" id="txnCategory"></select>
          </div>
          <div class="field">
            <label class="field-lbl" data-i18n="description">Description</label>
            <input type="text" class="field-input" id="txnDesc" placeholder="e.g. Monthly salary"/>
          </div>
          <div class="field">
            <label class="field-lbl" data-i18n="date">Date</label>
            <input type="date" class="field-input" id="txnDate"/>
          </div>
          <button class="submit-btn" id="txnSubmit" data-i18n="add_transaction">Add Transaction</button>
        </div>
      </div>
    </div>

    <!-- Confirm modal -->
    <div class="modal-veil" id="cfmVeil">
      <div class="modal-card cfm-card">
        <div class="cfm-icon">‚ö†Ô∏è</div>
        <h3 class="cfm-title" id="cfmTitle">Are you sure?</h3>
        <p class="cfm-msg" id="cfmMsg">This cannot be undone.</p>
        <div class="cfm-btns">
          <button class="cfm-cancel" id="cfmCancel" data-i18n="cancel">Cancel</button>
          <button class="danger-btn cfm-ok" id="cfmOk" data-i18n="confirm">Confirm</button>
        </div>
      </div>
    </div>

    <!-- Toast container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="dashboard.js"></script>
  </body>
</html>
